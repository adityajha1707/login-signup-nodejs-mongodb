<html>
	<head>
		<title>Login Page</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
		<script src="jquery-3.5.0.js"></script>
		<style type="text/css">#heading { display: flex; justify-content: center; }</style>
	</head>
	<body>
		<div class = "mt-4 container">
			<h1 id = "heading">Login Here</h1>
			<form class = "mt-4">
			  <div class="form-group">
			    <label>Email address</label>
			    <input type="email" class="form-control" id="email" aria-describedby="emailHelp">
			  </div>
			  <div class="form-group">
			    <label for="exampleInputPassword1">Password</label>
			    <input type="password" class="form-control" id="password">
			  </div>
			  <button type="submit" class="btn btn-primary" id="submitButton">Submit</button>
			  <a class="btn btn-primary" href="register.html" role="button">Register Page</a>
			</form>
		</div>
		<script>
		</script>	
	</body>
	<script type = "text/javascript">
		$(document).ready(function(){
			$("#submitButton").click(function(){
				event.preventDefault();
				var email = $("#email").val()
				var password = $("#password").val()
				if(email && password){
						$.ajax({
						    url : "http://localhost:3000/user/login",
						    type: "POST",
						    data : {
						    	"email":email,
						    	"password":password
						    },
						    success: function(data, textStatus, jqXHR){
						    	if(data)
						    	alert("You have been logged-in successfully.");
						        localStorage.setItem("email", email);
						    	window.location = "success.html";		
						    },
						    error: function(jqXHR, textStatus, errorThrown){
						    	alert(JSON.parse(jqXHR.responseText).message + ". Your email or password may be wrong.");
						    }
						});
				}
				else{
					alert("Please fill all fields.");
				}
			})
		})
	</script>
</html>